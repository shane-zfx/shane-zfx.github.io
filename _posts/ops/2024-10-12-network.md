---
layout: post
tags: [运维，Operations, 网络]
---

# linux 网络管理

> 只罗列常用命令，其余具体使用，详见 `ss -h | ss --help`

## 网络连接状态监控

### `ss`

- **作用：**用于显示套接字统计信息以及网络连接状态，`netstat`的改进版，显示信息更全面，速度更快

- **显示结果：**

  > `ss -lp`

  ```ruby
  Netid   State   Recv-Q   Send-Q   Local Address:Port   Peer Address:Port
   tcp    LISTEN    0       1000         *:8082                *:*           users:(("java",pid=3569,fd=233))
   udp    UNCONN    0        0           *:1947                *:*
   tcp    LISTEN    0        1         0.0.0.0:8000          0.0.0.0:*
   tcp    LISTEN    0       1024      127.0.0.1:46145        0.0.0.0:*
   tcp    LISTEN    0        1         0.0.0.0:8100          0.0.0.0:*       users:(("java",pid=3569,fd=276))
  ```

  - **Netid**：网络类型，例如`tcp`、`udp`、`unix`、`nl` 等

  - **State**：连接的状态（`LISTEN` 表示正在监听连接）
  - **Recv-Q / Send-Q**：接收和发送队列长度，数值越大可能表示网络拥堵

  - **Local Address**：本地地址和端口号，`127.0.0.1:80` 表示监听在本地环回地址的80端口

  - **Peer Address**：远程端口信息，`*:*` 表示未限制特定地址

- **常用：**

  - **`ss -ltp | grep 8100`**
    - `-l`：显示监听中的套接字
    - `-t`：显示`TCP`
    - `-n`：显示 `UDP`
  - `ss -tuln`

